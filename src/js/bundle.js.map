{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;;AAAsC;AACN;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,YAAY;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,uDAAuD,YAAY;AACnE;AACA,+BAA+B,cAAc,MAAM,eAAe;AAClE;AACA;AACA,+CAA+C,eAAe;AAC9D,mDAAmD,gBAAgB;AACnE,iDAAiD,cAAc;AAC/D;AACA;AACA;AACA,uEAAuE,iBAAiB;AACxF;AACA;AACA,mDAAmD,eAAe;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,uDAAU;AACtB;AACA;AACA,YAAY,oDAAO;AACnB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iEAAe,IAAI;;;;;;;;;;;;;;;;;AC1EmB;AACA;AACN;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,oDAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oDAAO;AACxB,cAAc;AACd;AACA,gBAAgB,uDAAU;AAC1B;AACA;AACA,gBAAgB,uDAAU;AAC1B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iEAAe,OAAO;;;;;;;;;;;;;;AChDtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iEAAe,OAAO;;;;;;;;;;;;;;;ACtBoB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,0DAAU;AACd;AACA;AACA;AACA;AACA,2CAA2C,mCAAmC;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,KAAK;AAChC;AACA,wCAAwC,KAAK;AAC7C,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,KAAK;AACpD,gDAAgD,MAAM;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iEAAe,YAAY;;;;;;;;;;;;;;ACrD3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,iEAAe,UAAU;;;;;;;;;;;;;;AChBzB;AACA;AACA;AACA;AACA;AACA,iEAAe,UAAU;;;;;;;;;;;;;;ACLzB;AACA;AACA;AACA;AACA;AACA,gCAAgC,IAAI,YAAY,WAAW;AAC3D;AACA;AACA;AACA;AACA;AACA,iEAAe,UAAU;;;;;;UCXzB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNkD;AACV;AACN;AACY;AAC9C;AACA;AACA,IAAI,iEAAY;AAChB,IAAI,+DAAU;AACd,IAAI,4DAAO;AACX,IAAI,yDAAI;AACR,CAAC,E","sources":["webpack://burgershop/./src/js/modules/cart.js","webpack://burgershop/./src/js/modules/counter.js","webpack://burgershop/./src/js/modules/couting.js","webpack://burgershop/./src/js/modules/createBurger.js","webpack://burgershop/./src/js/modules/hideBasket.js","webpack://burgershop/./src/js/modules/removeCart.js","webpack://burgershop/./src/js/server/server.js","webpack://burgershop/webpack/bootstrap","webpack://burgershop/webpack/runtime/define property getters","webpack://burgershop/webpack/runtime/hasOwnProperty shorthand","webpack://burgershop/webpack/runtime/make namespace object","webpack://burgershop/./src/js/script.js"],"sourcesContent":["import hideBasket from \"./hideBasket\";\r\nimport couting from \"./couting\";\r\n\r\nfunction cart(){\r\n    window.addEventListener('click', function(e){\r\n\r\n        // Проверяем нажатие на кнопку\r\n        if(e.target.hasAttribute('data-cart')){\r\n\r\n            // Получение элемента родителя\r\n            const cartWrapper = document.querySelector('.basket__list');\r\n\r\n            // Получаем элемент\r\n            const cart = e.target.closest('.burgers__item');\r\n\r\n            // Все данные записываем в объект\r\n            const cartInfo = {\r\n                id: cart.getAttribute('data-burger'),\r\n                img: cart.querySelector('.burgers__photo img').getAttribute('src'),\r\n                title: cart.querySelector('.burgers__name').innerText,\r\n                current: cart.querySelector('[data-current]').innerText,\r\n                gram: cart.querySelector('.burgers__gram').innerText,\r\n                pieces: cart.querySelector('.burgers__pieces').innerText,\r\n                price: cart.querySelector('.burgers__price').innerText\r\n            }\r\n\r\n            const cartItem = cartWrapper.querySelector(`[data-basket=\"${cartInfo.id}\"]`);\r\n\r\n            // Проверяем есть ли карточка или нет\r\n            if(cartItem){\r\n\r\n            // Если есть то добовляем current к CardInfo\r\n            const current = cartItem.querySelector('[data-current]');\r\n            current.innerText = +current.innerText + +cartInfo.current;\r\n            } else{\r\n            \r\n            // Если нету то создаем новую карточку\r\n            const cardHTML = `\r\n                <li class=\"basket__item\" data-basket=${cartInfo.id}>\r\n                <div class=\"basket__photo\">\r\n                    <img src=${cartInfo.img} alt=${cartInfo.title}>\r\n                </div>\r\n                <div class=\"basket__description\">\r\n                    <h2 class=\"basket__name\">${cartInfo.title}</h2>\r\n                    <span class=\"basket__pieces\">${cartInfo.pieces}/</span>\r\n                    <span class=\"basket__gram\">${cartInfo.gram}</span>\r\n                    <div class=\"basket__specification\">\r\n                        <div class=\"burgers__quantity\">\r\n                            <div class=\"burgers__minus btn__current\" data-action=\"minus\"></div>\r\n                            <p data-current class=\"burgers__current\">${cartInfo.current}</p>\r\n                            <div class=\"burgers__plus btn__current\" data-action=\"plus\"></div>\r\n                        </div>\r\n                        <p class=\"basket__price\">${cartInfo.price}</p>\r\n                    </div>\r\n                </div>\r\n            </li>`;\r\n            \r\n            cartWrapper.insertAdjacentHTML('beforeend', cardHTML);\r\n            }\r\n\r\n            // Сбрасываем счетчик \r\n            cart.querySelector('[data-current]').innerText = '1';\r\n\r\n            // Скрыть \"Корзина пуста\"\r\n            hideBasket();\r\n\r\n            // Итоговый подсчёт \r\n            couting();\r\n\r\n        }\r\n\r\n    });\r\n}\r\n\r\nexport default cart;","import removeCart from './removeCart';\r\nimport hideBasket from './hideBasket';\r\nimport couting from './couting';\r\n\r\nfunction counter(){\r\n    window.addEventListener('click', function(e){\r\n\r\n        let current;\r\n\r\n        if(e.target.dataset.action === 'plus' || e.target.dataset.action === 'minus'){\r\n\r\n            // Получение родителя \r\n            const counterWrapper = e.target.closest('.burgers__quantity');\r\n\r\n            // Пойск значения\r\n            current = counterWrapper.querySelector('[data-current]');\r\n        }\r\n\r\n        if(e.target.dataset.action === 'plus'){\r\n\r\n            // Увеличить значение на ед.\r\n            current.innerText = ++current.innerText;\r\n\r\n            // Итоговый подсчёт \r\n            couting();\r\n        }\r\n\r\n        if(e.target.dataset.action === 'minus'){\r\n            // Проверка числа\r\n            if(+current.innerText > 1){\r\n\r\n                // Уменьшить значение на ед.\r\n                current.innerText = --current.innerText;\r\n\r\n                 // Итоговый подсчёт \r\n                 couting();\r\n            } else{\r\n                // Удалить корзину\r\n                removeCart(e.target);\r\n\r\n                // Скрыть \"Корзина пуста\"\r\n                hideBasket();\r\n            }\r\n        }\r\n\r\n    });\r\n}   \r\n\r\nexport default counter;","function couting(){\r\n\r\n    // Получение всех карточек\r\n    const carts = document.querySelectorAll('.basket__item'),\r\n          result = document.querySelector('.basket__result__price');\r\n\r\n    let price = 0;\r\n    console.log(1);\r\n\r\n    // Перебор каждой карточки\r\n    carts.forEach(cart => {\r\n        const current = cart.querySelector('[data-current]').innerText,\r\n              basketPrice = cart.querySelector('.basket__price').innerText;\r\n\r\n\r\n        price = parseInt(current) * parseInt(basketPrice) + price;\r\n    });\r\n\r\n    result.innerText = price + '₽';\r\n\r\n}\r\n\r\nexport default couting;","import getBurgers from '../server/server';\r\n\r\nfunction createBurger(){\r\n\r\n    // Получение элемента родителя\r\n    const burgerWrapper = document.querySelector('.burgers__list');\r\n\r\n    // Получение данных и отправка в createBurger\r\n    getBurgers('../../data.json')\r\n        .then(data => createBurger(data))\r\n        .catch(() => console.log('error'));\r\n\r\n    function createBurger(data){\r\n        const wrapper = data.burgers.map(({img, name, pieces, gram, price, id}) => {\r\n\r\n            // Создание блока\r\n            const li = document.createElement('li');\r\n\r\n            // Добовление классов\r\n            li.classList.add('burgers__item', 'wow', 'animate__animated', 'animate__fadeInUp');\r\n\r\n            // Создание атрибута\r\n            li.setAttribute('data-burger', id);\r\n\r\n            // Заполнение контента\r\n            li.innerHTML = `\r\n            <div class=\"burgers__photo\">\r\n                <img src=${img} alt=\"burger\">\r\n            </div>\r\n            <h3 class=\"burgers__name\">${name}</h3>\r\n            <span class=\"burgers__pieces\">${pieces} шт.</span>\r\n            <div class=\"burgers__description\">\r\n                <div class=\"burgers__quantity\">\r\n                    <div class=\"burgers__minus btn__current\" data-action=\"minus\"></div>\r\n                    <p data-current class=\"burgers__current\">1</p>\r\n                    <div class=\"burgers__plus btn__current\" data-action=\"plus\"></div>\r\n                </div>\r\n                <div class=\"burgers__specification\">\r\n                    <p class=\"burgers__gram\">${gram}г.</p>\r\n                    <p class=\"burgers__price\">${price}₽</p>\r\n                </div>\r\n            </div>\r\n            <button data-cart class=\"burgers__add\">\r\n                Добавить в корзину\r\n            </button>\r\n            `;\r\n\r\n            burgerWrapper.appendChild(li);\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default createBurger;","function hideBasket(){\r\n    const cartWrapper = document.querySelectorAll('.basket__item'),\r\n          basketEmpty = document.querySelector('.basket__empty'),\r\n          basketForm = document.querySelector('.basket form'),\r\n          result = document.querySelector('.basket__result__price');\r\n\r\n    if(cartWrapper.length === 0){\r\n        basketEmpty.style.display = 'block';\r\n        basketForm.style.display = 'none';\r\n        result.innerText = '0₽';\r\n    } else {\r\n        basketEmpty.style.display = 'none';\r\n        basketForm.style.display = 'block';\r\n    }\r\n}\r\n\r\nexport default hideBasket;","function removeCart(tar){\r\n    const cart = tar.closest('.basket__item');\r\n    if(cart)cart.remove(); \r\n}\r\n\r\nexport default removeCart;","async function getBurgers(url){\r\n\r\n    let res = await fetch(url);\r\n\r\n    if(!res.ok){\r\n        throw new Error(`url: ${url}, status: ${res.status}`);\r\n    }\r\n\r\n    return await res.json();\r\n}\r\n\r\nexport default getBurgers;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import createBurger from './modules/createBurger';\r\nimport counter from './modules/counter';\r\nimport cart from './modules/cart';\r\nimport hideBasket from './modules/hideBasket';\r\n\r\ndocument.addEventListener('DOMContentLoaded', function(){\r\n    createBurger();      \r\n    hideBasket();\r\n    counter();\r\n    cart();\r\n});"],"names":[],"sourceRoot":""}